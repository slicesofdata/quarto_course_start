<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Gabriel I. Cook">
<meta name="dcterms.date" content="2023-09-19">

<title>PSYC167 - Reading data files</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://kit.fontawesome.com/78ddb093ea.js" crossorigin="anonymous"></script>


<link rel="stylesheet" href="../css/nav.css">
<link rel="stylesheet" href="../css/styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title"><strong>PSYC167</strong></span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text"><strong>Home</strong></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../syllabus/syllabus.html" rel="" target="" aria-current="page">
 <span class="menu-text"><strong>Syllabus</strong></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../modules/index.html" rel="" target="">
 <span class="menu-text"><strong>Modules</strong></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../project/index.html" rel="" target="">
 <span class="menu-text"><strong>Project</strong></span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-slides" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text"><strong>Slides</strong></span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-slides">    
        <li>
    <a class="dropdown-item" href="../slides/Visualizing_associations.qmd" rel="" target="">
 <span class="dropdown-text">Visualizing Associations</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../slides/Visualizing_associations.html" rel="" target="">
 <span class="dropdown-text">Visualizing Associations (html)</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-homework" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text"><strong>Homework</strong></span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-homework">    
        <li>
    <a class="dropdown-item" href="../homework/EX01.pdf" rel="" target="">
 <span class="dropdown-text">HW 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../homework/HW02.Rmd" rel="" target="">
 <span class="dropdown-text">HW 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../homework/HW03.Rmd" rel="" target="">
 <span class="dropdown-text">HW 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../homework/HW04.Rmd" rel="" target="">
 <span class="dropdown-text">HW 4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../homework/HW05.Rmd" rel="" target="">
 <span class="dropdown-text">HW 5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../homework/HW06.Rmd" rel="" target="">
 <span class="dropdown-text">HW 6</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../homework/HW07.Rmd" rel="" target="">
 <span class="dropdown-text">HW 7</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../homework/HW08.Rmd" rel="" target="">
 <span class="dropdown-text">HW 8</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../homework/HW09.Rmd" rel="" target="">
 <span class="dropdown-text">HW 9</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-data" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text"><strong>Data</strong></span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-data">    
        <li>
    <a class="dropdown-item" href="https://github.com/slicesofdata/dataviz23/raw/main/data/cms-top-all-time-2023-swim.zip" rel="" target="">
 <span class="dropdown-text">cms-top-all-time-2023-swim.xlsx</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/slicesofdata/dataviz23/raw/main/data/cleaned-cms-top-all-time-2023-swim.csv" rel="" target="">
 <span class="dropdown-text">cleaned-cms-top-all-time-2023-swim.csv</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/slicesofdata/dataviz23/raw/main/data/tfrrs.zip" rel="" target="">
 <span class="dropdown-text">tfrrs.zip</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/rfordatascience/tidytuesday" rel="" target="">
 <span class="dropdown-text">Fun Tidy Tuesday Data Sets</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-cheatsheets" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text"><strong>Cheatsheets</strong></span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-cheatsheets">    
        <li>
    <a class="dropdown-item" href="../cheatsheets/rmarkdown-2.0.pdf" rel="" target="">
 <span class="dropdown-text">RMarkdown</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://www.rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf" rel="" target="">
 <span class="dropdown-text">Data Wrangling with {dplyr} and {tidyr}</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://rstudio.github.io/cheatsheets/html/quarto.html" rel="" target="">
 <span class="dropdown-text">Quarto (Publish and Share)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://rstudio.github.io/cheatsheets/html/strings.html" rel="" target="">
 <span class="dropdown-text">String Manipulation with {stringr}</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://rstudio.github.io/cheatsheets/html/data-import.html" rel="" target="">
 <span class="dropdown-text">Reading and Writing Data with {readr}</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../cheatsheets/Data_Science_With_R_Workflow.pdf" rel="" target="">
 <span class="dropdown-text">Data Science with RWorkflow</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://rstudio.github.io/cheatsheets/" rel="" target="">
 <span class="dropdown-text">More Cheatsheets Here</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://images.datacamp.com/image/upload/v1676540721/Marketing/Blog/Quarto_Cheat_Sheet.pdf" rel="" target="">
 <span class="dropdown-text">Quarto Cheat Sheet (what Quarto Files Look Like)</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../resources/dataviz_tools.html" rel="" target="">
 <span class="menu-text"><strong>DataViz Tools</strong></span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/slicesofdata/dataviz23" rel="" target=""><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../modules/index.html">Modules</a></li><li class="breadcrumb-item"><a href="../modules/03_reading_data_files.html"><strong>Reading data files</strong></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../syllabus/syllabus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Syllabus</strong></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../modules/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modules</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/001_installing_and_setting_up_git_and_github.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Installing and Setting Up Git and GitHub for R</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/01_installing_r_and_rstudio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Installing R &amp; RStudio</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/02_graphical_perception.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Graphical perception</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/03_reading_data_files.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><strong>Reading data files</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/04_data_frame_manipulation_and_wrangling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Data frame manipulation and wrangling</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/07_data_subsets_and_summaries.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Data subsets and summaries</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/08_ggplot_and_the_grammar_of_graphics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>{ggplot} and the grammar of graphics</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/10_visualizing_associations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Visualizing associations</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/11_spatial_position_and_adjustment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Spatial position and adjustment</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/12_considerations_in_data_visualization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Considerations in data visualization</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/13_color_scales_and_palettes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Color scales and palettes</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/14_histograms_and_density_plots.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Histograms and density plots</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/15_coordinates_axes_and_position_scales.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Coordinates, axes, and position scales</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/16_statistical_transformations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Statistical transformations</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/17_visualizing_more_distributions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Visualizing more distributions</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/18_visualizing_uncertainty.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Visualizing uncertainty</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/19_visualizing_trends.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Visualizing trends</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/20_legends_and_arrangement.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Legends and arrangement</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/21_designing_perceptually_efficient_visualizations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Designing perceptually-efficient visualizations</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/22_annotation_and_text.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Annotation and text</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/23_multi_panel_plots_faceting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Multi-panel plots: Faceting</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/24_attentional_control.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Attentional control</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/25_titles_captions_and_tables.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Title, Captions, and Tables</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/26_themes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Figure Design &amp; Themes</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/99_importing_many_files_into_a_single_data_frame.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Importing many delimited files into a single data frame</strong></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../project/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Project</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../project/02_project_team_roles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Team membership and roles</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../project/04_project_midterm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Midterm presentation</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../project/08_project_final.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Final presentation</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../project/10_project_report.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Final report</strong></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview"><strong>Overview</strong></a></li>
  <li><a href="#to-do" id="toc-to-do" class="nav-link" data-scroll-target="#to-do"><strong>To Do</strong></a>
  <ul class="collapse">
  <li><a href="#readings" id="toc-readings" class="nav-link" data-scroll-target="#readings"><strong>Readings</strong></a></li>
  <li><a href="#task" id="toc-task" class="nav-link" data-scroll-target="#task"><strong>Task</strong></a></li>
  <li><a href="#libraries" id="toc-libraries" class="nav-link" data-scroll-target="#libraries"><strong>Libraries</strong></a></li>
  </ul></li>
  <li><a href="#downloading-a-.zip-file-from-a-url" id="toc-downloading-a-.zip-file-from-a-url" class="nav-link" data-scroll-target="#downloading-a-.zip-file-from-a-url"><strong>Downloading a <code>.zip</code> File from a URL</strong></a></li>
  <li><a href="#readingimporting-data-files" id="toc-readingimporting-data-files" class="nav-link" data-scroll-target="#readingimporting-data-files"><strong>Reading/Importing Data Files</strong></a>
  <ul class="collapse">
  <li><a href="#excel-files-from-a-url" id="toc-excel-files-from-a-url" class="nav-link" data-scroll-target="#excel-files-from-a-url"><strong>Excel files from a URL</strong></a></li>
  <li><a href="#reading-excel-spreadsheets-with-readxl" id="toc-reading-excel-spreadsheets-with-readxl" class="nav-link" data-scroll-target="#reading-excel-spreadsheets-with-readxl"><strong>Reading Excel Spreadsheets with <code>{readxl}</code></strong></a>
  <ul class="collapse">
  <li><a href="#getting-sheet-names" id="toc-getting-sheet-names" class="nav-link" data-scroll-target="#getting-sheet-names"><strong>Getting Sheet Names</strong></a></li>
  <li><a href="#reading-a-sheet" id="toc-reading-a-sheet" class="nav-link" data-scroll-target="#reading-a-sheet"><strong>Reading a Sheet</strong></a></li>
  </ul></li>
  </ul></li>
  <li><a href="#writingexporting-data-files" id="toc-writingexporting-data-files" class="nav-link" data-scroll-target="#writingexporting-data-files"><strong>Writing/Exporting Data Files</strong></a>
  <ul class="collapse">
  <li><a href="#managing-file-paths-with-here" id="toc-managing-file-paths-with-here" class="nav-link" data-scroll-target="#managing-file-paths-with-here"><strong>Managing file paths with {here}</strong></a></li>
  </ul></li>
  <li><a href="#writing-with-readr" id="toc-writing-with-readr" class="nav-link" data-scroll-target="#writing-with-readr"><strong>Writing with {readr}</strong></a>
  <ul class="collapse">
  <li><a href="#a-workflow-side-note-on-strings" id="toc-a-workflow-side-note-on-strings" class="nav-link" data-scroll-target="#a-workflow-side-note-on-strings"><strong>A Workflow Side Note on Strings</strong></a></li>
  </ul></li>
  <li><a href="#reading-.csv-files-with-readr" id="toc-reading-.csv-files-with-readr" class="nav-link" data-scroll-target="#reading-.csv-files-with-readr"><strong>Reading <code>.csv</code> files with {readr}</strong></a>
  <ul class="collapse">
  <li><a href="#reading-a-.csv-file-stored-on-a-website" id="toc-reading-a-.csv-file-stored-on-a-website" class="nav-link" data-scroll-target="#reading-a-.csv-file-stored-on-a-website"><strong>Reading a <code>.csv</code> File Stored on a Website</strong></a></li>
  <li><a href="#reading-a-.csv-file-stored-locally-on-your-computer" id="toc-reading-a-.csv-file-stored-locally-on-your-computer" class="nav-link" data-scroll-target="#reading-a-.csv-file-stored-locally-on-your-computer"><strong>Reading a <code>.csv</code> File Stored Locally on your Computer</strong></a></li>
  <li><a href="#reading-raw-data-that-is-comma-separated-e.g.-.csv" id="toc-reading-raw-data-that-is-comma-separated-e.g.-.csv" class="nav-link" data-scroll-target="#reading-raw-data-that-is-comma-separated-e.g.-.csv"><strong>Reading Raw Data that is Comma-Separated (e.g., <code>.csv</code>)</strong></a></li>
  <li><a href="#reading-data-from-a-librarypackage" id="toc-reading-data-from-a-librarypackage" class="nav-link" data-scroll-target="#reading-data-from-a-librarypackage"><strong>Reading Data from a Library/Package</strong></a></li>
  </ul></li>
  <li><a href="#assigning-a-data-frame-to-an-object" id="toc-assigning-a-data-frame-to-an-object" class="nav-link" data-scroll-target="#assigning-a-data-frame-to-an-object"><strong>Assigning a Data Frame to an Object</strong></a>
  <ul class="collapse">
  <li><a href="#object-assignment-using--" id="toc-object-assignment-using--" class="nav-link" data-scroll-target="#object-assignment-using--"><strong>Object Assignment using <code>&lt;-</code></strong></a></li>
  <li><a href="#using-read.table" id="toc-using-read.table" class="nav-link" data-scroll-target="#using-read.table">Using <code>read.table()</code>:</a></li>
  <li><a href="#using-read_csv-from-readr" id="toc-using-read_csv-from-readr" class="nav-link" data-scroll-target="#using-read_csv-from-readr">Using <code>read_csv()</code> from <strong>{readr}</strong>:</a></li>
  <li><a href="#data-as-a-data-frame" id="toc-data-as-a-data-frame" class="nav-link" data-scroll-target="#data-as-a-data-frame"><strong>Data as a Data Frame</strong></a></li>
  <li><a href="#are-they-both-tibbles" id="toc-are-they-both-tibbles" class="nav-link" data-scroll-target="#are-they-both-tibbles"><strong>Are they both <code>tibbles</code>?</strong></a></li>
  </ul></li>
  <li><a href="#project-organization" id="toc-project-organization" class="nav-link" data-scroll-target="#project-organization"><strong>Project Organization</strong></a></li>
  <li><a href="#reading-large-files" id="toc-reading-large-files" class="nav-link" data-scroll-target="#reading-large-files"><strong>Reading Large Files</strong></a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><strong>Reading data files</strong></h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Gabriel I. Cook </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 19, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Under construction.
</div>
</div>
<div class="callout-body-container callout-body">
<p>This page is a work in progress and may contain areas that need more detail or that required syntactical, grammatical, and typographical changes. If you find some part requiring some editing, please let me know so I can fix it for you.</p>
</div>
</div>
<section id="overview" class="level1">
<h1><strong>Overview</strong></h1>
<p>In this module, you will learn how to read and write data files in different formats. Depending how you access data, the process may change so this topic is discussed in a general way with different approaches described. If you find yourself in a bind with reading data, one of these approaches will likely work. In many instances, however, <code>readr::read_csv()</code> will be your friend when reading files and <code>readr::write_csv()</code> will be for writing files.</p>
<p>In addition, concepts related to reading files and managing workflow are discussed. By doing so, my goal is to make you aware of some key issues that could cause some problems with data science projects. When reading files,</p>
</section>
<section id="to-do" class="level1">
<h1><strong>To Do</strong></h1>
<section id="readings" class="level2">
<h2 class="anchored" data-anchor-id="readings"><strong>Readings</strong></h2>
<ul>
<li><a href="https://r4ds.had.co.nz/workflow-basics.html">R Workflow Basics</a></li>
<li><a href="https://r4ds.had.co.nz/transform.html#introduction-2">General Wrangling: Sections 5.1 up through 5.5</a></li>
</ul>
</section>
<section id="task" class="level2">
<h2 class="anchored" data-anchor-id="task"><strong>Task</strong></h2>
<ul>
<li><a href="https://github.com/">Create a GitHub account</a> if you don’t have one (this may come in handy for projects and a blog if you want)</li>
</ul>
</section>
<section id="libraries" class="level2">
<h2 class="anchored" data-anchor-id="libraries"><strong>Libraries</strong></h2>
<ul>
<li><strong>{openxlsx}</strong> 4.2.5.2: for reading Excel spreadsheets from a URL</li>
<li><strong>{readxl}</strong> 1.4.3: for reading Excel spreadsheets</li>
<li><strong>{readr}</strong> 2.1.4: for reading <code>.csv</code>, <code>.tsv</code>, and <code>.fwf</code> files</li>
</ul>
<p>First, we need an <code>.xlsx</code> data file. You can obtain one locally or online from a URL.</p>
</section>
</section>
<section id="downloading-a-.zip-file-from-a-url" class="level1">
<h1><strong>Downloading a <code>.zip</code> File from a URL</strong></h1>
<p>GitHub handles Excel files in a way that makes downloading them challenging, so we will first download a <code>.zip</code> file containing the <code>.xlxs</code> file.</p>
<p>You can accomplish this in two ways:</p>
<ul>
<li><p>Download from <a href="https://github.com/slicesofdata/dataviz23/raw/main/data/cms-top-all-time-2023-swim.zip">here</a>, save in your project <code>/data</code> directory, and unzip</p></li>
<li><p>Use the URL to a zip file and download to the project <code>/data</code> directory, unzip the contents, and remove the <code>.zip</code> file using the code below</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>zip_url <span class="ot">&lt;-</span> <span class="st">"https://github.com/slicesofdata/dataviz23/raw/main/data/cms-top-all-time-2023-swim.zip"</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">download.file</span>(zip_url, <span class="at">destfile =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"swim.zip"</span>))</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">unzip</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"swim.zip"</span>), </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">overwrite =</span> <span class="cn">TRUE</span>, </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">exdir =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">file.remove</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"swim.zip"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>If the process worked correctly, the file should exist in the directory.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">file.exists</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"cms-top-all-time-2023-swim.xlsx"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>OK, great! Let’s move to importing files more generally.</p>
</section>
<section id="readingimporting-data-files" class="level1">
<h1><strong>Reading/Importing Data Files</strong></h1>
<section id="excel-files-from-a-url" class="level2">
<h2 class="anchored" data-anchor-id="excel-files-from-a-url"><strong>Excel files from a URL</strong></h2>
<p><strong>{readxl}</strong> 1.4.3 lacks the ability to read the file from online. We can, however, read it using <strong>{openxlsx}</strong>. The problem is that you will only be able to read a the first sheet. If the first sheet is all you need, this can work. Pass the URL to <code>openxlsx::read.xlsx()</code> and assign it’s contents to an object named <code>DAT</code> using the assignment operator <code>&lt;-</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>URL <span class="ot">&lt;-</span> <span class="st">"https://github.com/slicesofdata/dataviz23/raw/main/data/cms-top-all-time-2023-swim.xlsx"</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>DAT <span class="ot">&lt;-</span> openxlsx<span class="sc">::</span><span class="fu">read.xlsx</span>(URL, <span class="at">sheet =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>What does the head of the data file look like?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(DAT)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   score              name year          event   team
1 525.35       Maia Presti 2015 1-Meter Diving Athena
2 514.70 Makenna Parkinson 2023 1-Meter Diving Athena
3 512.05      Emma Ng Pack 2023 1-Meter Diving Athena
4 494.95         Izzy Doud 2023 1-Meter Diving Athena
5 462.15     Carli Lessard 2015 1-Meter Diving Athena
6 447.70     Alexis Romero 2023 1-Meter Diving Athena</code></pre>
</div>
</div>
<p>Just an FYI, when you want a different worksheet you will need to pass a sheet name to the <code>sheet</code> argument. In this case, we saved it as part of the download process. Let’s pass <code>sheet = "swim"</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  openxlsx<span class="sc">::</span><span class="fu">read.xlsx</span>(URL, <span class="at">sheet =</span> <span class="st">"swim"</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   time             name year   event   team
1 23.29 Jocelyn Crawford 2019 50 FREE Athena
2 23.31    Ava Sealander 2022 50 FREE Athena
3 23.49        Kelly Ngo 2016 50 FREE Athena
4 23.71        Helen Liu 2014 50 FREE Athena
5 23.76      Michele Kee 2014 50 FREE Athena
6 23.77 Natalia Orbach-M 2020 50 FREE Athena</code></pre>
</div>
</div>
</section>
<section id="reading-excel-spreadsheets-with-readxl" class="level2">
<h2 class="anchored" data-anchor-id="reading-excel-spreadsheets-with-readxl"><strong>Reading Excel Spreadsheets with <code>{readxl}</code></strong></h2>
<p>We will use the <strong>{readxl}</strong> library to handing reading of Excel files. Because Excel files can contain multiple sheets, one goal would be to find out the sheet names using <code>readxl::excel_sheets</code> (see <code>?readxl::excel_sheets</code>). This function takes one argument, which is the path to the file. Passing the path will return the sheet names in that file. We can pass the path string directly into the function or if the file path is already saved as a object, pass that.</p>
<p>In order to read an Excel spreadsheet file, you will need to specify at very least <code>file</code> and if you want to read a specific sheet other than the first one, then you will need to specify <code>sheet</code>.</p>
<ul>
<li><code>file</code>: a path to the file, including the file name</li>
<li><code>sheet</code>: the sheet name to read</li>
</ul>
<section id="getting-sheet-names" class="level3">
<h3 class="anchored" data-anchor-id="getting-sheet-names"><strong>Getting Sheet Names</strong></h3>
<p>First, let’s assign the file path to an object because we will use this path a few times and we don’t want to keep typing it lest we make an error.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>file_name <span class="ot">&lt;-</span> <span class="st">"cms-top-all-time-2023-swim.xlsx"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can examine the worksheet names:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>readxl<span class="sc">::</span><span class="fu">excel_sheets</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, file_name))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "diving" "swim"   "relay" </code></pre>
</div>
</div>
<p>Great, we know know the sheet names. The benefit of passing an object is that you you may wish to pass the path to another function, for example, to read a sheet from the file.</p>
</section>
<section id="reading-a-sheet" class="level3">
<h3 class="anchored" data-anchor-id="reading-a-sheet"><strong>Reading a Sheet</strong></h3>
<p>In order to read a sheet, we will use <code>readxl::read_excel()</code>, which takes the file <code>path</code> as the first argument and the name of the desired <code>sheet</code> as the second argument. You might get away with passing only the <code>path</code> as long as your goal is to read the first sheet because this is the default action. Let’s wrap the function in <code>head()</code> to see the top.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  readxl<span class="sc">::</span><span class="fu">read_excel</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, file_name))</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  score  name              year  event          team  
  &lt;chr&gt;  &lt;chr&gt;             &lt;chr&gt; &lt;chr&gt;          &lt;chr&gt; 
1 525.35 Maia Presti       2015  1-Meter Diving Athena
2 514.70 Makenna Parkinson 2023  1-Meter Diving Athena
3 512.05 Emma Ng Pack      2023  1-Meter Diving Athena
4 494.95 Izzy Doud         2023  1-Meter Diving Athena
5 462.15 Carli Lessard     2015  1-Meter Diving Athena
6 447.70 Alexis Romero     2023  1-Meter Diving Athena</code></pre>
</div>
</div>
<p>The function also turns the file content into special object type knows as a <code>data frame</code>. A data frame is composed of row and column data. Sometimes data frames are messy but luckily we have a fairly clean file. You can verify using <code>R</code>’s built-in function <code>is.data.frame()</code>, which will return <code>TRUE</code> if it’s a data frame or <code>FALSE</code> if not. We will assign this to an object</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.data.frame</span>(readxl<span class="sc">::</span><span class="fu">read_excel</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, file_name)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>But we don’t want the first sheet. Pass <code>sheet = "swim"</code> to read that sheet. Also, let’s read in the data and assign it to an object called <code>DAT</code> which will hold the data frame.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>DAT <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_excel</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, file_name), <span class="at">sheet =</span> <span class="st">"swim"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Viewing the head of the data frame, we can see that it is composed of 5 column vectors representing variables with names: time, name, year, event, team.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(DAT)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  time  name             year  event   team  
  &lt;chr&gt; &lt;chr&gt;            &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
1 23.29 Jocelyn Crawford 2019  50 FREE Athena
2 23.31 Ava Sealander    2022  50 FREE Athena
3 23.49 Kelly Ngo        2016  50 FREE Athena
4 23.71 Helen Liu        2014  50 FREE Athena
5 23.76 Michele Kee      2014  50 FREE Athena
6 23.77 Natalia Orbach-M 2020  50 FREE Athena</code></pre>
</div>
</div>
<p>OK, that was fun. In order to demonstrate reading local <code>.csv</code> files, we will take a detour into saving files.</p>
</section>
</section>
</section>
<section id="writingexporting-data-files" class="level1">
<h1><strong>Writing/Exporting Data Files</strong></h1>
<p>Despite it’s name, <strong>{readr}</strong> can save data frames too. Interestingly, at least at the time of this writing, <strong>{readr}</strong> allows you to write files in excel format even though you cannot open them.</p>
<p>Moving forward, you can save the data frame as a <code>.csv</code> file using <code>readr::write_csv()</code>. When writing a file using <code>write_csv()</code> we need to specify key arguments: <code>x</code>, the data frame object, and <code>file</code>, the file name. You do not need to set a delimiter because, given its name, <code>.csv</code> defaults the separation as a comma <code>","</code>. Other arguments may be necessary for other files and goals.</p>
<p>If, however, you specify name of the file (e.g., <code>"my file name.csv"</code>), the data frame will be written to a default location because no file path was provided. Um, so where is that default location? Well it depends and it’s complicated depending on whether files are <code>.R</code> or <code>.Rmd</code>. By default, <code>.Rmd</code> files will assume the directory from which the <code>.Rmd</code> file, NOT THE DATA FILE, is opened. But you don’t want to save a data file to the directory where your code lives.</p>
<p>If you are organized, you save your <code>.R</code> and <code>.Rmd</code> files in code directory and your data files in a data directory. So yeah, the default is a problem. The solution is to specify the file path using <code>file = the file path</code>.</p>
<section id="managing-file-paths-with-here" class="level2">
<h2 class="anchored" data-anchor-id="managing-file-paths-with-here"><strong>Managing file paths with {here}</strong></h2>
<p>When downloading the file, you may have noticed using the <strong>{here}</strong> library. A discussion of the library was delayed at the time. We will now look a little deeper into how the library simplifies working with file paths within the context of the <strong>{readr}</strong>.</p>
<p>What’s the best way to handle directories and file paths? Undoutedly, that is the <strong>{here}</strong> library, assuming of course you are smart enough to be using projects in <code>RStudio</code>. When you open a file from within a project, <strong>{here}</strong> will make the project directory the working directory. And if you are organized, your data files will be in a <code>/data</code> directory inside the project directory. When passing <code>"data"</code> as the first argument to <code>here::here()</code> ( e.g., <code>here::here("data")</code>, you will see that the function returns a string containing the full path to the project directory plus the data subdirectory.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "C:/Users/gcook/Sync/git/dataviz23/data"</code></pre>
</div>
</div>
</section>
</section>
<section id="writing-with-readr" class="level1">
<h1><strong>Writing with {readr}</strong></h1>
<p>Data frames can be written, or saved, as <code>.csv</code> files using <code>readr::write_csv()</code>, as r data files using <code>readr::write_rds()</code>, as Excel <code>.csv</code> files using <code>readr::write_excel_csv()</code>, as well as other formats.</p>
<p>If you query <code>R</code> using <code>?readr::write_excel_csv</code> or <code>?write_excel_csv</code> having already loaded <strong>{readr}</strong> using <code>library(readr)</code>, you will see the arguments.</p>
<p>OK, so let’s save the data frame. But remember, you cannot pass the file path and name used to read the <code>.xlsx</code> file because the data frame you want to save is not in <code>.xlsx</code> file format.</p>
<p>If you pass that previous path string (cms-top-all-time-2023-swim.xlsx ), you will overwrite that existing Excel file, which likely is not your end goal for at least two reasons. First, the <code>.csv</code> would be incorrectly named as <code>.xlsx</code> and second, you would completely clobber your Excel spreadsheet along with all of the other worksheets that you did not read. Yeah, that would be bad.</p>
<p>So we need to change the file name. Specifically, we only need to change the file extension part of the path. We could simply copy and paste the path and change <code>".xlsx"</code> to <code>".csv"</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">write_csv</span>(DAT, here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"cms-top-all-time-2023-swim.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Sure, that will work. But I would also like you to think about smart workflow.</p>
<section id="a-workflow-side-note-on-strings" class="level2">
<h2 class="anchored" data-anchor-id="a-workflow-side-note-on-strings"><strong>A Workflow Side Note on Strings</strong></h2>
<p>You could avoid hard coding the change of the file extension in order to streamline you workflow. Every time to pass the path and the path changes you will need to change this by hand and doing so could be extremely annoying. For example, if you change the save location or the file name, you’ll need to make updates for all code referencing the path. To avoid potential headaches, we can instead use <code>gsub()</code> to examine a string, look for a pattern, and replace that pattern with another pattern. All we want to do is to change <code>".xlsx"</code> or <code>".xls"</code> in the string to <code>".csv"</code>. And because we will next want to use this new name for reading later, let’s assign the change to a new string object, <code>file_csv</code>.</p>
<p>First, let’s see what <code>gsub()</code> is doing.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">".xlsx|.xls"</span>,  </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">replacement =</span> <span class="st">".csv"</span>, </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">x =</span> file_name</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>     )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "cms-top-all-time-2023-swim.csv"</code></pre>
</div>
</div>
<p>Assign to an object:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>file_csv <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">".xlsx|.xls"</span>, <span class="st">".csv"</span>, file_name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note: Code was simplified because the arguments were passed in the order expected by the <code>gsub()</code> function.</p>
<p>Second, pass the path object to <code>write_csv()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">write_csv</span>(<span class="at">x =</span> DAT, </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, file_csv)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>                 )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Did it save? Use <code>file.exists()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">file.exists</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, file_csv))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>Remember, all we have done is save the data frame. This new file will contain only the data from the spreadsheet that we read earlier. Before opening this new file, we need to take a detour on general handling of reading files with <strong>{readr}</strong>.</p>
</section>
</section>
<section id="reading-.csv-files-with-readr" class="level1">
<h1><strong>Reading <code>.csv</code> files with {readr}</strong></h1>
<p>The <code>base R</code> functions for reading/importing and writing/exporting data can be slow and may cause issues on different operating systems. By contrast, <strong>{readr}</strong> functions operate independently of the OS. As a result, we will generally use the <strong>{readr}</strong> equivalent to <code>read.csv</code> files is <code>readr::read_csv()</code> (note the library reference and function name).</p>
<p>If you query <code>R</code> using <code>?readr::read_csv</code> or <code>read_csv</code> having already loaded the <strong>{readr}</strong> library using <code>library(readr)</code>, you will see how to use the function.</p>
<p>In order to read a data file, you will need to specify at very least <code>file</code>, which could be a physical file or a remote file. We will address a few ways of reading data.</p>
<ul>
<li><code>file</code>: a path to a file, a connection, or literal data (either a single string or a raw vector)</li>
<li><code>delim = " "</code>: the delimiter used to separate values; this is <code>","</code> for <code>.csv</code> files</li>
<li><code>col_names = !append</code>: the names of columns/variables</li>
</ul>
<p>Some examples:</p>
<ul>
<li>Reading a <code>.csv</code> file from a website</li>
<li>Reading a locale <code>.csv</code> file</li>
<li>Reading raw data that is comma-separated</li>
</ul>
<section id="reading-a-.csv-file-stored-on-a-website" class="level2">
<h2 class="anchored" data-anchor-id="reading-a-.csv-file-stored-on-a-website"><strong>Reading a <code>.csv</code> File Stored on a Website</strong></h2>
<p>For example, although the <code>mtcars</code> data is also a built-in data set in <code>R</code>, if it were a read actual <code>.csv</code> file save on some website, you can pass the URL path as the <code>file</code>. This file does exist on the <strong>{tidyverse}</strong> github for <code>{readr}</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="at">file =</span> <span class="st">"https://github.com/tidyverse/readr/raw/main/inst/extdata/mtcars.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 32 Columns: 11
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
dbl (11): mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 32 × 11
     mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1  21       6  160    110  3.9   2.62  16.5     0     1     4     4
 2  21       6  160    110  3.9   2.88  17.0     0     1     4     4
 3  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1
 4  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1
 5  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2
 6  18.1     6  225    105  2.76  3.46  20.2     1     0     3     1
 7  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4
 8  24.4     4  147.    62  3.69  3.19  20       1     0     4     2
 9  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2
10  19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4
# ℹ 22 more rows</code></pre>
</div>
</div>
<p>Because <code>file</code> if the first argument of the function, you do not need to reference it specifically. Doing so just eliminates ambiguity for more complicated function calls. You will come across a lot of examples of code that do NOT reference the arguments by name.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">"https://github.com/tidyverse/readr/raw/main/inst/extdata/mtcars.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 32 Columns: 11
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
dbl (11): mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 32 × 11
     mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1  21       6  160    110  3.9   2.62  16.5     0     1     4     4
 2  21       6  160    110  3.9   2.88  17.0     0     1     4     4
 3  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1
 4  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1
 5  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2
 6  18.1     6  225    105  2.76  3.46  20.2     1     0     3     1
 7  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4
 8  24.4     4  147.    62  3.69  3.19  20       1     0     4     2
 9  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2
10  19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4
# ℹ 22 more rows</code></pre>
</div>
</div>
<p>By default, <code>readr::read_csv()</code> tries to guess whether column/variable names are present. If you know they exist, you can set <code>col_names = TRUE</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">"https://github.com/tidyverse/readr/raw/main/inst/extdata/mtcars.csv"</span>, <span class="at">col_names =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 32 Columns: 11
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
dbl (11): mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 32 × 11
     mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1  21       6  160    110  3.9   2.62  16.5     0     1     4     4
 2  21       6  160    110  3.9   2.88  17.0     0     1     4     4
 3  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1
 4  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1
 5  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2
 6  18.1     6  225    105  2.76  3.46  20.2     1     0     3     1
 7  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4
 8  24.4     4  147.    62  3.69  3.19  20       1     0     4     2
 9  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2
10  19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4
# ℹ 22 more rows</code></pre>
</div>
</div>
<p>If the names are present and you set <code>col_names = FALSE</code>, you will get a mess because <strong>{readr}</strong> will assume the header row is data just as the rest of the file.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">"https://github.com/tidyverse/readr/raw/main/inst/extdata/mtcars.csv"</span>, <span class="at">col_names =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 33 Columns: 11
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (11): X1, X2, X3, X4, X5, X6, X7, X8, X9, X10, X11

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 33 × 11
   X1    X2    X3    X4    X5    X6    X7    X8    X9    X10   X11  
   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;
 1 mpg   cyl   disp  hp    drat  wt    qsec  vs    am    gear  carb 
 2 21    6     160   110   3.9   2.62  16.46 0     1     4     4    
 3 21    6     160   110   3.9   2.875 17.02 0     1     4     4    
 4 22.8  4     108   93    3.85  2.32  18.61 1     1     4     1    
 5 21.4  6     258   110   3.08  3.215 19.44 1     0     3     1    
 6 18.7  8     360   175   3.15  3.44  17.02 0     0     3     2    
 7 18.1  6     225   105   2.76  3.46  20.22 1     0     3     1    
 8 14.3  8     360   245   3.21  3.57  15.84 0     0     3     4    
 9 24.4  4     146.7 62    3.69  3.19  20    1     0     4     2    
10 22.8  4     140.8 95    3.92  3.15  22.9  1     0     4     2    
# ℹ 23 more rows</code></pre>
</div>
</div>
<p>As you can see, the column names are all prefixed with “X” and the first row is now the name of the headers. <code>names()</code> or <code>colnames()</code> will return the column names, so we can apply it and see what happens. We will wrap <code>readr::read_csv()</code> in <code>names()</code>. See how this is a problem. You can use <code>colnames()</code> to test this too.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">"https://github.com/tidyverse/readr/raw/main/inst/extdata/mtcars.csv"</span>, <span class="at">col_names =</span> T)</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 32 Columns: 11
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
dbl (11): mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "mpg"  "cyl"  "disp" "hp"   "drat" "wt"   "qsec" "vs"   "am"   "gear"
[11] "carb"</code></pre>
</div>
</div>
</section>
<section id="reading-a-.csv-file-stored-locally-on-your-computer" class="level2">
<h2 class="anchored" data-anchor-id="reading-a-.csv-file-stored-locally-on-your-computer"><strong>Reading a <code>.csv</code> File Stored Locally on your Computer</strong></h2>
<p>If a file actually existed on your computer, the file would not be a URL but rather the path location to where the file is stored.</p>
<p>And now we can read the locale file as before except we are not passing the string name but rather an object (e.g., <code>file_csv</code>) holding the file path and file name. Voilà.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, file_csv))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 440 Columns: 5
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (5): time, name, year, event, team

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 440 × 5
   time  name             year  event   team  
   &lt;chr&gt; &lt;chr&gt;            &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
 1 23.29 Jocelyn Crawford 2019  50 FREE Athena
 2 23.31 Ava Sealander    2022  50 FREE Athena
 3 23.49 Kelly Ngo        2016  50 FREE Athena
 4 23.71 Helen Liu        2014  50 FREE Athena
 5 23.76 Michele Kee      2014  50 FREE Athena
 6 23.77 Natalia Orbach-M 2020  50 FREE Athena
 7 23.77 Suzia Starzyk    2020  50 FREE Athena
 8 23.87 Katie Bilotti    2010  50 FREE Athena
 9 23.93 Jenni Rinker     2011  50 FREE Athena
10 24.02 Annika Sharma    2023  50 FREE Athena
# ℹ 430 more rows</code></pre>
</div>
</div>
</section>
<section id="reading-raw-data-that-is-comma-separated-e.g.-.csv" class="level2">
<h2 class="anchored" data-anchor-id="reading-raw-data-that-is-comma-separated-e.g.-.csv"><strong>Reading Raw Data that is Comma-Separated (e.g., <code>.csv</code>)</strong></h2>
<p>We will file use <code>readr::read_csv()</code> to read our data file (viz., cms-top-all-time-2023-swim.csv).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, file_csv))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 440 Columns: 5
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (5): time, name, year, event, team

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 440 × 5
   time  name             year  event   team  
   &lt;chr&gt; &lt;chr&gt;            &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
 1 23.29 Jocelyn Crawford 2019  50 FREE Athena
 2 23.31 Ava Sealander    2022  50 FREE Athena
 3 23.49 Kelly Ngo        2016  50 FREE Athena
 4 23.71 Helen Liu        2014  50 FREE Athena
 5 23.76 Michele Kee      2014  50 FREE Athena
 6 23.77 Natalia Orbach-M 2020  50 FREE Athena
 7 23.77 Suzia Starzyk    2020  50 FREE Athena
 8 23.87 Katie Bilotti    2010  50 FREE Athena
 9 23.93 Jenni Rinker     2011  50 FREE Athena
10 24.02 Annika Sharma    2023  50 FREE Athena
# ℹ 430 more rows</code></pre>
</div>
</div>
<p>If there were only data in the file and no names representing variables on the first row, the file might look like that below. We can imitate this by skipping the first row (containing names) using <code>skip =</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, file_csv), <span class="at">skip =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 439 Columns: 5
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (5): 23.29, Jocelyn Crawford, 2019, 50 FREE, Athena

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 439 × 5
   `23.29` `Jocelyn Crawford` `2019` `50 FREE` Athena
   &lt;chr&gt;   &lt;chr&gt;              &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt; 
 1 23.31   Ava Sealander      2022   50 FREE   Athena
 2 23.49   Kelly Ngo          2016   50 FREE   Athena
 3 23.71   Helen Liu          2014   50 FREE   Athena
 4 23.76   Michele Kee        2014   50 FREE   Athena
 5 23.77   Natalia Orbach-M   2020   50 FREE   Athena
 6 23.77   Suzia Starzyk      2020   50 FREE   Athena
 7 23.87   Katie Bilotti      2010   50 FREE   Athena
 8 23.93   Jenni Rinker       2011   50 FREE   Athena
 9 24.02   Annika Sharma      2023   50 FREE   Athena
10 51.05   Kelly Ngo          2016   100 FREE  Athena
# ℹ 429 more rows</code></pre>
</div>
</div>
<p>See how the first row is assumed to be <em>names</em>? Setting <code>col_names = F</code> will fix the problem. Putting the arguments on separate rows of <code>R</code> code might improve code legibility.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, file_csv), </span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">skip =</span> <span class="dv">1</span>,</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">col_names =</span> F</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>                )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 440 Columns: 5
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (5): X1, X2, X3, X4, X5

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 440 × 5
   X1    X2               X3    X4      X5    
   &lt;chr&gt; &lt;chr&gt;            &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
 1 23.29 Jocelyn Crawford 2019  50 FREE Athena
 2 23.31 Ava Sealander    2022  50 FREE Athena
 3 23.49 Kelly Ngo        2016  50 FREE Athena
 4 23.71 Helen Liu        2014  50 FREE Athena
 5 23.76 Michele Kee      2014  50 FREE Athena
 6 23.77 Natalia Orbach-M 2020  50 FREE Athena
 7 23.77 Suzia Starzyk    2020  50 FREE Athena
 8 23.87 Katie Bilotti    2010  50 FREE Athena
 9 23.93 Jenni Rinker     2011  50 FREE Athena
10 24.02 Annika Sharma    2023  50 FREE Athena
# ℹ 430 more rows</code></pre>
</div>
</div>
<p>But we have no column names now. Setting <code>col_names =</code> will fix that. Use <code>c()</code> to combine 4 names, e.g., <code>col_names = c("name1", "name2", "name3", "name4")</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, file_csv), </span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">skip =</span> <span class="dv">1</span>,</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">col_names =</span> <span class="fu">c</span>(<span class="st">"time"</span>, <span class="st">"name"</span>, <span class="st">"year"</span>, <span class="st">"event"</span>)</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>                )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 440 Columns: 5
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (5): time, name, year, event, X5

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 440 × 5
   time  name             year  event   X5    
   &lt;chr&gt; &lt;chr&gt;            &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
 1 23.29 Jocelyn Crawford 2019  50 FREE Athena
 2 23.31 Ava Sealander    2022  50 FREE Athena
 3 23.49 Kelly Ngo        2016  50 FREE Athena
 4 23.71 Helen Liu        2014  50 FREE Athena
 5 23.76 Michele Kee      2014  50 FREE Athena
 6 23.77 Natalia Orbach-M 2020  50 FREE Athena
 7 23.77 Suzia Starzyk    2020  50 FREE Athena
 8 23.87 Katie Bilotti    2010  50 FREE Athena
 9 23.93 Jenni Rinker     2011  50 FREE Athena
10 24.02 Annika Sharma    2023  50 FREE Athena
# ℹ 430 more rows</code></pre>
</div>
</div>
<p>If you have column names that are on row 1 of the data frame, don’t skip that row and instead set <code>col_names = TRUE</code> to put them in place.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, file_csv), </span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">col_names =</span> T</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>                )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 440 Columns: 5
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (5): time, name, year, event, team

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 440 × 5
   time  name             year  event   team  
   &lt;chr&gt; &lt;chr&gt;            &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
 1 23.29 Jocelyn Crawford 2019  50 FREE Athena
 2 23.31 Ava Sealander    2022  50 FREE Athena
 3 23.49 Kelly Ngo        2016  50 FREE Athena
 4 23.71 Helen Liu        2014  50 FREE Athena
 5 23.76 Michele Kee      2014  50 FREE Athena
 6 23.77 Natalia Orbach-M 2020  50 FREE Athena
 7 23.77 Suzia Starzyk    2020  50 FREE Athena
 8 23.87 Katie Bilotti    2010  50 FREE Athena
 9 23.93 Jenni Rinker     2011  50 FREE Athena
10 24.02 Annika Sharma    2023  50 FREE Athena
# ℹ 430 more rows</code></pre>
</div>
</div>
<p>Luckily, we have both names and data in the file and by default <code>readr::read_csv()</code> does what we intend.</p>
</section>
<section id="reading-data-from-a-librarypackage" class="level2">
<h2 class="anchored" data-anchor-id="reading-data-from-a-librarypackage"><strong>Reading Data from a Library/Package</strong></h2>
<p>As mentioned earlier, <code>mtcars</code> is a data set on cars which is also part of base <code>R</code>, meaning you do not need to read it from anyplace. <code>R</code> does this automatically.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>mtcars</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                     mpg cyl  disp  hp drat    wt  qsec vs am gear carb
Mazda RX4           21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
Mazda RX4 Wag       21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
Datsun 710          22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
Hornet 4 Drive      21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
Valiant             18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
Merc 240D           24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
Merc 230            22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
Merc 280            19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4
Merc 280C           17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4
Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4
Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
Fiat 128            32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
Honda Civic         30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
Toyota Corolla      33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
Toyota Corona       21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2
AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2
Fiat X1-9           27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
Porsche 914-2       26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
Lotus Europa        30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4
Ferrari Dino        19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
Maserati Bora       15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
Volvo 142E          21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># or </span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(mtcars)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                     mpg cyl  disp  hp drat    wt  qsec vs am gear carb
Mazda RX4           21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
Mazda RX4 Wag       21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
Datsun 710          22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
Hornet 4 Drive      21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
Valiant             18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
Merc 240D           24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
Merc 230            22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
Merc 280            19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4
Merc 280C           17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4
Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4
Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
Fiat 128            32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
Honda Civic         30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
Toyota Corolla      33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
Toyota Corona       21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2
AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2
Fiat X1-9           27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
Porsche 914-2       26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
Lotus Europa        30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4
Ferrari Dino        19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
Maserati Bora       15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
Volvo 142E          21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2</code></pre>
</div>
</div>
<p>Use <code>names()</code> to read the column names:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(mtcars)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "mpg"  "cyl"  "disp" "hp"   "drat" "wt"   "qsec" "vs"   "am"   "gear"
[11] "carb"</code></pre>
</div>
</div>
</section>
</section>
<section id="assigning-a-data-frame-to-an-object" class="level1">
<h1><strong>Assigning a Data Frame to an Object</strong></h1>
<p>Unfortunately, once you read data into <code>R</code> what you see is only the returned content from the functions. This approach will not really allow you to perform other operations on the data frame itself very easily because you would have to read the file over and over every time you wished to perform a different operation.</p>
<section id="object-assignment-using--" class="level2">
<h2 class="anchored" data-anchor-id="object-assignment-using--"><strong>Object Assignment using <code>&lt;-</code></strong></h2>
<p>You will want to take the data frame object that is returned by the <code>read.csv()</code> function and assign it to an object of some name using the assignment operator <code>&lt;-</code> . Although the concept of assignment will be covered later, for now just understand that we need to make the data more accessible to work with. You could name the object anything you want. Let’s assign it to <code>DAT</code> standing for <code>data frame</code> and let’s make it ALL CAPS.</p>
<p>A note about case: <code>R</code> is a case-sensitive language so object names like <code>DAT</code>, <code>dat</code>, <code>DaT</code>, etc. are possible and can refer to different objects depending on how you assign them. We will use capital letters only because I like to flag objects that are data frame as special and this approach makes them visually identifiable. You could choose your own convention for naming data frames, other objects, variables in data frames, etc. but I don’t recommend being random about it.</p>
</section>
<section id="using-read.table" class="level2">
<h2 class="anchored" data-anchor-id="using-read.table">Using <code>read.table()</code>:</h2>
<p><code>read.table()</code> is a flexible function for reading files because you can specify how the data are separated in rows by setting the <code>sep</code> argument. A common separation is a comma but you might also have tabs or other special characters.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>DAT <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, file_csv),</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">sep =</span> <span class="st">","</span>,</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">header =</span> T</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>                  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>read.csv()</code> is a specific case of <code>read.table()</code> that sets <code>sep = ","</code> for you so there is no need to pass the argument. <code>read.csv()</code> is the more common function you will come across for reading <code>.csv</code> files but <code>read.table()</code> works the same as long as you set the argument.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>DAT <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, file_csv))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="using-read_csv-from-readr" class="level2">
<h2 class="anchored" data-anchor-id="using-read_csv-from-readr">Using <code>read_csv()</code> from <strong>{readr}</strong>:</h2>
<p>There are advantages to using <code>readr::read_csv()</code> over <code>read.csv()</code>, which is why we will prefer it. We will assign it to an object named <code>DAT2</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>DAT2 <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, file_csv))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 440 Columns: 5
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (5): time, name, year, event, team

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(DAT2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  time  name             year  event   team  
  &lt;chr&gt; &lt;chr&gt;            &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
1 23.29 Jocelyn Crawford 2019  50 FREE Athena
2 23.31 Ava Sealander    2022  50 FREE Athena
3 23.49 Kelly Ngo        2016  50 FREE Athena
4 23.71 Helen Liu        2014  50 FREE Athena
5 23.76 Michele Kee      2014  50 FREE Athena
6 23.77 Natalia Orbach-M 2020  50 FREE Athena</code></pre>
</div>
</div>
<p>We can test whether <code>DAT</code> and <code>DAT2</code> are the same using a logical test <code>==</code>. Notice the two <code>=</code>. If we use one <code>=</code>, we will actually assign the contents of <code>DAT2</code> to <code>DAT</code> because a single <code>=</code> in this context (scope) will do the same as <code>&lt;-</code>. A discussion of the differences is beyond the scope here but suffice it so say <code>&lt;-</code> is the common practice except when you are writing custom functions. In most cases, assignment inside functions are done with <code>=</code> because objects created inside a function are not typically needed outside that scope.</p>
<p>Anyway, you can see that the contents are the same even when files are read by different functions. This is wrapped in the <code>all()</code> function, which will return <code>TRUE</code> if everything is <code>TRUE</code>. This is good that the contents are identical.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(DAT <span class="sc">==</span> DAT2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</section>
<section id="data-as-a-data-frame" class="level2">
<h2 class="anchored" data-anchor-id="data-as-a-data-frame"><strong>Data as a Data Frame</strong></h2>
<p>You should see an object named <code>DAT</code> that contains the data frame with some swim data. If you want to verify this is actually a data frame object, you can pass the <code>DAT</code> object into the <code>is.data.frame()</code> function. The function will return <code>TRUE</code> if it is and <code>FALSE</code> if it is not.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.data.frame</span>(DAT)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.data.frame</span>(DAT2)  <span class="co"># tibbles are also data frames</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</section>
<section id="are-they-both-tibbles" class="level2">
<h2 class="anchored" data-anchor-id="are-they-both-tibbles"><strong>Are they both <code>tibbles</code>?</strong></h2>
<p>Tibbles are different from data frames, see the <a href="https://cran.r-project.org/web/packages/tibble/vignettes/tibble.html"><strong>{tibble}</strong> library</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>tibble<span class="sc">::</span><span class="fu">is_tibble</span>(DAT)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>tibble<span class="sc">::</span><span class="fu">is_tibble</span>(DAT2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>Now the you have the data frame, you can examine some of its contents, for example, the first 6 rows using the <code>head()</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(DAT)    <span class="co"># hmm, something seems off.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   time             name year   event   team
1 23.29 Jocelyn Crawford 2019 50 FREE Athena
2 23.31    Ava Sealander 2022 50 FREE Athena
3 23.49        Kelly Ngo 2016 50 FREE Athena
4 23.71        Helen Liu 2014 50 FREE Athena
5 23.76      Michele Kee 2014 50 FREE Athena
6 23.77 Natalia Orbach-M 2020 50 FREE Athena</code></pre>
</div>
</div>
<p>Because header rows do exist atop the <code>.csv</code> file, specify that they exist by passing <code>TRUE</code> to the <code>header</code> argument of the function (e.g., <code>header = TRUE</code> or <code>header = T</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>DAT <span class="ot">&lt;-</span> <span class="fu">read.table</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, file_csv),</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">sep =</span> <span class="st">","</span>, </span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">header =</span> <span class="cn">TRUE</span></span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>                  )</span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(DAT)    <span class="co"># Perfect!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   time             name year   event   team
1 23.29 Jocelyn Crawford 2019 50 FREE Athena
2 23.31    Ava Sealander 2022 50 FREE Athena
3 23.49        Kelly Ngo 2016 50 FREE Athena
4 23.71        Helen Liu 2014 50 FREE Athena
5 23.76      Michele Kee 2014 50 FREE Athena
6 23.77 Natalia Orbach-M 2020 50 FREE Athena</code></pre>
</div>
</div>
</section>
</section>
<section id="project-organization" class="level1">
<h1><strong>Project Organization</strong></h1>
<p>For many projects, you will have to perform lots of data cleaning. For those instances, you would likely also want to organize your project in a way that you create dedicated <code>.R</code> used to read and clean the data. Depending on circumstances, you may also wish to create one file for reading data and one for cleaning. You would also have separate files for running analyses or for creating plots. In your report file, you would include a code block for sourcing other scripts as shown here.</p>
<pre><code>source(here::here("r", "read_data.R"))
source(here::here("r", "clean_data.R"))
source(here::here("r", "analyze_data.R"))
source(here::here("r", "create_plots.R"))</code></pre>
<p>The alternative is that you write all of your code in one file and overwhelm yourself because of all of the lines of code. You could, however, think of yourself as members of a team and organize your files as though you were working with others.</p>
<p>When working with teams, you would likely also manage a <a href="https://github.com/">github</a> repository for your project. Team contributors would be working on separate tasks and separate files. The files might be used by one or all team members. You could imagine how difficult the process would be if there was only one file with all project code. Whether you manage a repo for your project or you do not, be smart and compartmentalize your code into meaningful chunks.</p>
</section>
<section id="reading-large-files" class="level1">
<h1><strong>Reading Large Files</strong></h1>
<p>Now, sometimes you might work with very large files over 1 GB in size. If so, <code>read.csv()</code> and <code>read.table()</code> will be extremely slow. You’ll want another function. One of the fastest is <code>fread()</code> that is part of a library that’s not built into base R. The library is <strong>{data.table}</strong>. <strong>{vroom}</strong> is a new library that may even be better. See <a href="https://cran.r-project.org/web/packages/vroom/vignettes/vroom.html">{vroom}</a>.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>